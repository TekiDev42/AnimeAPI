<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>AnimeAPI</title>

    <script src="https://unpkg.com/htmx.org@1.8.0" async defer></script>
</head>
<body>

    <div id="response" style="display:flex;flex-direction:column;"></div>

    <form method="POST" action="{% url 'add_user' %}" style="display: flex;flex-direction: column;max-width: 640px;">
        {% csrf_token %}

        <label for="username">username</label>
        <input id="username" type="text" name="username">

        <label for="password">password</label>
        <input id="password" type="password" name="password">

        <label for="useremail">useremail</label>
        <input id="useremail" type="email" name="useremail">

        <button hx-post="{% url 'add_user' %}"
                hx-target="#response"
                hx-swap="beforeend"
                type="submit">Valider
        </button>
    </form>

<script defer async>
    document.addEventListener('htmx:responseError', (evt) => {
        console.log(evt.detail.xhr);
    });
</script>

</body>
</html>